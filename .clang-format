# Generated by CLion for LLVM
BasedOnStyle: LLVM

# 大括号换行风格：除了lambda总是换行（Allman 风格），lambda在()后面
BreakBeforeBraces: Custom

BraceWrapping:
  AfterClass: true
  AfterControlStatement: true
  AfterEnum: true
  AfterFunction: true
  AfterNamespace: true
  AfterStruct: true
  AfterUnion: true
  AfterExternBlock: true
  AfterCaseLabel: false
  AfterLambda: false   # lambda 不换行
  BeforeCatch: true
  BeforeElse: true

# 缩进
IndentWidth: 4
TabWidth: 4
UseTab: Never
AccessModifierOffset: -4

# 空格控制
SpaceBeforeParens: ControlStatements  # if, for, while 等控制语句后有空格    if (x > 0)
SpacesInParentheses: false  # 函数括号中不添加空格    func(x); 而不是 func( x );
SpacesInSquareBrackets: false # 方括号中不加空格    array[0];
SpaceBeforeAssignmentOperators: true  # 赋值运算符前后都加空格   int a = 5;

# 换行控制
AllowShortFunctionsOnASingleLine: Inline  # 允许空函数体或只有 return 的函数写成一行    int get() { return x; }
AllowShortIfStatementsOnASingleLine: false  # 不允许 if 语句单独占一行，即使很短也换行
AllowShortLoopsOnASingleLine: false # 不允许短的 for/while 循环写在一行

# 列宽控制
ColumnLimit: 150
# 控制函数调用参数换行时对齐方式
# AlignAfterOpenBracket: DontAlign
# BinPackArguments: false
# PenaltyBreakBeforeFirstCallParameter: 50

# 命名空间
NamespaceIndentation: All               # All 表示缩进所有 namespace 内容

# 对齐和格式对齐
AlignConsecutiveAssignments: false
AlignConsecutiveDeclarations: false

# include 排序
# SortIncludes: true  # 会对 #include 按照字母顺序自动排序
# IncludeBlocks: Preserve  # Preserve / Merge / Regroup     # 不合并 include 块，保持原始的分组方式（避免误合并系统头文件和项目头文件）

# 注释样式
CommentPragmas: '^ IWYU pragma:'   # 哪些注释不会被格式化

# C++ 语言版本
Standard: c++20

# 多余字段自动去除
DerivePointerAlignment: false
PointerAlignment: Left   # Left / Right / Middle 指针 * 靠近类型，而不是变量名 int* ptr;  // 而不是 int *ptr;

# lambda 参数格式
AllowShortLambdasOnASingleLine: Inline

# 参数换行
# BinPackParameters: false
# BinPackArguments: false